#!/bin/sh -e
##:
#h: Usage: cygwin COMMAND
#h:
#h: Execute command in a Cygwin Bash login shell with "-ec" flags set
#h: and the "set -o igncr" set.
##:
cygwin() {
    local cmd
    case "$(uname -s)" in
        CYG*) sh -ec "$*"; return 0;;
    esac
    cmd="
        cd '$(pwd)'
        export SHELLOPTS
        set -o igncr
        $*
    "
    if test -e 'C:\cygwin64\bin\bash.exe'; then
        'C:\cygwin64\bin\bash.exe' --login -e -c "${cmd}"
    else
        'C:\Cygwin\bin\bash.exe' --login -e -c "${cmd}"
    fi
}
## -------------------------------------------------------------------
if test @"${SCRNAME:-$(basename "$0")}" = @"cygwin"; then
    case "${1}" in
        ''|-h|--help) sed -n 's/^ *#h: \{0,1\}//p' "$0";;
        *)            cygwin "$@"; exit 0;;
    esac
fi
